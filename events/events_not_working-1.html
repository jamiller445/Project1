<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Events</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="events.css" />
     <!-- Bootstrap core CSS -->
    <!-- <link href="../../../../dist/css/bootstrap.min.css" rel="stylesheet"> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1"> -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="http://api.eventful.com/js/api"></script>
      
      <!-- <script src="main.js"></script> -->
</head>
<body>

    


    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
        <a class="navbar-brand" href="../carousel/index.html">Nuevo</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <a class="nav-link" href="../sign-up/signup.html">Sign Up<span class="sr-only"></span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="../sign-in/index.html">Log In</a>
            </li>
            <li class="nav-item active">
                <a class="nav-link" href="events.html">Events</a>
            </li>
            </ul>
        </div>
    </nav>
    <div class="jumbotron jumbotron-fluid" style="background-color: rgba(0,0,0,0.5)">
        <h1 class="display-4 text-center"><p class="font-weight-bold text-white">Events</p></h1>
    </div>
    <div style="background-color: rgba(0,0,0,0.5)">
        <hr class="featurette-divider">

        <div class="row featurette">
            <div class="col-md-7">
              <h2 class="featurette-heading text-white" id="event-heading-0">First featurette heading. <span class="text-white">It'll blow your mind.</span></h2>
              <!-- <h2 class="featurette-heading text-white" id="event-heading-1"><span class="text-white"></span></h2> -->
              <p class="lead text-white" id="event-0"></p>
            </div>
            <div class="col-md-5">
            <!-- <img class="featurette-image-1 img-fluid mx-auto" data-src="" alt="Generic placeholder image"> -->
            <img class="featurette-image img-fluid mx-auto" id="event-img-0" src="" alt="Generic placeholder image">
            </div>
        </div>

        <hr class="featurette-divider">

        <div class="row featurette">
            <div class="col-md-7 order-md-2">
            <h2 class="featurette-heading text-white" id="event-heading-1">Oh yeah, it's that good. <span class="text-white">See for yourself.</span></h2>
            <p class="lead text-white" id="event-1">Donec ullamcorper nulla non metus auctor fringilla. Vestibulum id ligula porta felis euismod semper. Praesent commodo cursus magna, vel scelerisque nisl consectetur. Fusce dapibus, tellus ac cursus commodo.</p>
            </div>
            <div class="col-md-5 order-md-1">
            <img class="featurette-image img-fluid mx-auto" data-src="holder.js/500x500/auto" alt="Generic placeholder image">
            </div>
        </div>

        <hr class="featurette-divider">

        <div class="row featurette">
            <div class="col-md-7">
            <h2 class="featurette-heading text-white" id="event-heading-2">And lastly, this one. <span class="text-white">Checkmate.</span></h2>
            <p class="lead text-white" id="event-2">Donec ullamcorper nulla non metus auctor fringilla. Vestibulum id ligula porta felis euismod semper. Praesent commodo cursus magna, vel scelerisque nisl consectetur. Fusce dapibus, tellus ac cursus commodo.</p>
            </div>
            <div class="col-md-5">
            <img class="featurette-image img-fluid mx-auto" data-src="holder.js/500x500/auto" alt="Generic placeholder image">
            </div>
        </div>

        <hr class="featurette-divider">

        <div class="row featurette">
                <div class="col-md-7 order-md-2">
                <h2 class="featurette-heading text-white" id="event-heading-3">Oh yeah, it's that good. <span class="text-white">See for yourself.</span></h2>
                <p class="lead text-white" id="event-3">Donec ullamcorper nulla non metus auctor fringilla. Vestibulum id ligula porta felis euismod semper. Praesent commodo cursus magna, vel scelerisque nisl consectetur. Fusce dapibus, tellus ac cursus commodo.</p>
                </div>
                <div class="col-md-5 order-md-1">
                <img class="featurette-image img-fluid mx-auto" data-src="holder.js/500x500/auto" alt="Generic placeholder image">
                </div>
            </div>

        <hr class="featurette-divider">

        <div class="row featurette">
            <div class="col-md-7">
            <h2 class="featurette-heading text-white" id="event-heading-4">And lastly, this one. <span class="text-white">Checkmate.</span></h2>
            <p class="lead text-white" id="event-4">Donec ullamcorper nulla non metus auctor fringilla. Vestibulum id ligula porta felis euismod semper. Praesent commodo cursus magna, vel scelerisque nisl consectetur. Fusce dapibus, tellus ac cursus commodo.</p>
            </div>
            <div class="col-md-5">
            <img class="featurette-image img-fluid mx-auto" data-src="holder.js/500x500/auto" alt="Generic placeholder image">
            </div>
        </div>

        <hr class="featurette-divider">

        <div class="row featurette">
                <div class="col-md-7 order-md-2">
                <h2 class="featurette-heading text-white" id="event-heading-5">Oh yeah, it's that good. <span class="text-white">See for yourself.</span></h2>
                <p class="lead text-white" id="event-5">Donec ullamcorper nulla non metus auctor fringilla. Vestibulum id ligula porta felis euismod semper. Praesent commodo cursus magna, vel scelerisque nisl consectetur. Fusce dapibus, tellus ac cursus commodo.</p>
                </div>
                <div class="col-md-5 order-md-1">
                <img class="featurette-image img-fluid mx-auto" data-src="holder.js/500x500/auto" alt="Generic placeholder image">
                </div>
            </div>

        <hr class="featurette-divider">

        <div class="row featurette">
            <div class="col-md-7">
            <h2 class="featurette-heading text-white" id="event-heading-6">And lastly, this one. <span class="text-white">Checkmate.</span></h2>
            <p class="lead text-white" id="event-6">Donec ullamcorper nulla non metus auctor fringilla. Vestibulum id ligula porta felis euismod semper. Praesent commodo cursus magna, vel scelerisque nisl consectetur. Fusce dapibus, tellus ac cursus commodo.</p>
            </div>
            <div class="col-md-5">
            <img class="featurette-image img-fluid mx-auto" data-src="holder.js/500x500/auto" alt="Generic placeholder image">
            </div>
        </div>

        <hr class="featurette-divider">

        <div class="row featurette">
                <div class="col-md-7 order-md-2">
                <h2 class="featurette-heading text-white" id="event-heading-7">Oh yeah, it's that good. <span class="text-white">See for yourself.</span></h2>
                <p class="lead text-white" id="event-7">Donec ullamcorper nulla non metus auctor fringilla. Vestibulum id ligula porta felis euismod semper. Praesent commodo cursus magna, vel scelerisque nisl consectetur. Fusce dapibus, tellus ac cursus commodo.</p>
                </div>
                <div class="col-md-5 order-md-1">
                <img class="featurette-image img-fluid mx-auto" data-src="holder.js/500x500/auto" alt="Generic placeholder image">
                </div>
            </div>

        <hr class="featurette-divider">

        <div class="row featurette">
            <div class="col-md-7">
            <h2 class="featurette-heading text-white" id="event-heading-8">And lastly, this one. <span class="text-white">Checkmate.</span></h2>
            <p class="lead text-white" id="event-8">Donec ullamcorper nulla non metus auctor fringilla. Vestibulum id ligula porta felis euismod semper. Praesent commodo cursus magna, vel scelerisque nisl consectetur. Fusce dapibus, tellus ac cursus commodo.</p>
            </div>
            <div class="col-md-5">
            <img class="featurette-image img-fluid mx-auto" data-src="holder.js/500x500/auto" alt="Generic placeholder image">
            </div>
        </div>

        <hr class="featurette-divider">

        <div class="row featurette">
            <div class="col-md-7">
            <h2 class="featurette-heading text-white" id="event-heading-9">And lastly, this one. <span class="text-white">Checkmate.</span></h2>
            <p class="lead text-white" id="event-9">Donec ullamcorper nulla non metus auctor fringilla. Vestibulum id ligula porta felis euismod semper. Praesent commodo cursus magna, vel scelerisque nisl consectetur. Fusce dapibus, tellus ac cursus commodo.</p>
            </div>
            <div class="col-md-5">
            <img class="featurette-image img-fluid mx-auto" data-src="holder.js/500x500/auto" alt="Generic placeholder image">
            </div>
        </div>

    </div>

    <script>

        var eventObj;
        var getEventObj;
        var ii;
        var eventNumber = 0;
        var eventObj;
    
    var app_key = "&app_key=hM4NZjM8RPGkXH6B";
    
    var queryParms = "&page_size=10&page_number=1&location=Cleveland&sort_order=popularity&image_sizes=block100,large,dropshadow250";
    // var queryParms = "&page_size=1&page_number=1&location=Cleveland&sort_order=popularity&image_sizes=blackborder500";
    
    // var queryURL = "http://api.eventful.com/json/events/search?page_size=1&page_number=1&location=Cleveland&app_key=hM4NZjM8RPGkXH6B";
    var queryURL = "http://api.eventful.com/json/events/search?";
    
            // Creates AJAX call for the specific topic button being clicked
            var d = new Date();
            var n = d.getMonth();
            var months    = ['January','February','March','April',
                             'May','June','July','August',
                             'September','October','November','December'];
            var now       = new Date();
            var thisMonth = months[now.getMonth()];
            // queryParms += "&date=" + thisMonth + ",January";
            queryParms += "&date=" + "December";
            console.log("qp= " + queryParms);
            
    
            $.ajax({
              url: queryURL + queryParms + app_key,
              method: "GET"
            }).then(function(response) {
   
                var myObj = JSON.parse(response);

                eventObj = myObj;
                // console.log("response= " + myObj);
                // console.log("response= " + myObj.total_items);
                // console.log("id= " + myObj.events.event[0].id);
                // console.log("url= " + myObj.events.event[0].url);
                // console.log("title= " + myObj.events.event[0].title);
                // console.log("length of events array= " + myObj.events.event.length);

                // $(".event-heading").text(eventObj.events.event[0].title);
                // $(".event-description").text(eventObj.events.event[0].description);
                

                // console.log("response= " + response.events.event[0].olson_path);
                // console.log("url= " + response.events.url);
                // console.log("response= " + response);

                // for (i=0 ; i < eventObj.events.event.length ; i++ ) {
                // ii=i;
                // console.log("running show-alert " + ii)

                show_alert();
            // }
            });



            

function show_alert()

{
i=eventNumber;
var oArgs = {

    app_key:"hM4NZjM8RPGkXH6B",

    id: eventObj.events.event[i].id,

    page_size: 25 ,

};

var eventHeading = "#event-heading-" + i;
var event = "#event-" + i;



// console.log("ii= " + ii);

console.log("event id= " + eventObj.events.event[i].id);
// console.log("ii= " + ii);

EVDB.API.call("/events/get", oArgs, function(oData) {

  console.log("eventHeading= " + eventHeading);
console.log("event= " + event);

// console.log("show_alert= " + JSON.stringify(oData));

getEventObj = oData;

console.log("event number= " + eventNumber);
console.log("title= " + getEventObj.title);
console.log("description= " + getEventObj.description);
// console.log("event number= " + ii);
console.log("length of image array= " + getEventObj.images.image.length);
// for (i=0 ; i < getEventObj.images.image.length ; i++){
// console.log("image" + i + " url= " + getEventObj.images.image[i].url);
// var res = getEventObj.images.image[0].url.replace("small", "large");
// // console.log("image" + i + " url= " + getEventObj.images.image[i].url);
// // console.log("image" + i + " url= " + getEventObj.images.image[i].url);
// // console.log("image" + i + " url= " + getEventObj.images.image[i].url);
// // console.log("image" + i + " url= " + getEventObj.images.image[i].url);
// // console.log("image" + i + " url= " + getEventObj.images.image[i].url);
// }
var res = getEventObj.images.image[0].url.replace("small", "large");

// console.log("large url= " + res);
console.log("img url=" + res);


$("#event-heading-" + eventNumber).text(getEventObj.title);

if ( getEventObj.description != null ){
  $("#event-" + eventNumber).text(getEventObj.description);
} 
else {
  $("#event-1").text("No Description Available");
}

// $(".display-area").append("<div><img style='float: right width:100%;height:100%;' src= " + getEventObj.images.image[0].url + "></div>");
// $(".featurette-image-1").append("<div><img style='float: right width:100%;height:100%;' src= " + res + "></div>");
$("#event-img-1").attr("src", res);

// Note: this relies on the custom toString() methods below

});
eventNumber += 1;
}



    
</script>

    
</body>
</html>